<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='Basically, renaming!'><meta name=theme-color content='grey'><meta property='og:title' content='Shell Scripts to Manipulate The File Name Extensions • Praveen Lobo'><meta property='og:description' content='Basically, renaming!'><meta property='og:url' content='https://praveenlobo.com/blog/shell-scripts-to-manipulate-the-file-name-extensions/'><meta property='og:site_name' content='Praveen Lobo'><meta property='og:type' content='article'><meta property='article:section' content='blog'><meta property='article:tag' content='script'><meta property='article:tag' content='unix'><meta property='article:tag' content='backdated post'><meta property='article:published_time' content='2017-10-02T20:00:00Z'><meta property='article:modified_time' content='2017-10-02T20:00:00Z'><meta name=twitter:card content='summary'><meta name=generator content="Hugo 0.147.5"><title>Shell Scripts to Manipulate The File Name Extensions • Praveen Lobo</title><link rel=canonical href=https://praveenlobo.com/blog/shell-scripts-to-manipulate-the-file-name-extensions/><link rel=icon href=/favicon.ico><link rel=stylesheet href=/assets/css/main.e45c9137.css><link rel=stylesheet href=/css/custom.css><style>:root{--color-accent:grey}</style></head><body class='page type-blog'><div class=site><a class=screen-reader-text href=#content>Skip to Content</a><div class=main><nav id=main-menu class='menu main-menu' aria-label='Main Menu'><div class=container><ul><li class=item><a href=/>Home</a></li><li class=item><a href=/search>Search</a></li><li class=item><a href=/blog>Blog</a></li><li class=item><a href=/reviews-and-referral-links>Reviews</a></li><li class=item><a href=/archive>Archive</a></li><li class=item><a href=/subscribe>Subscribe</a></li><li class=item><a href=/contact>Contact</a></li><li class=item><a href=/about>About</a></li></ul></div></nav><div class=header-widgets><div class=container></div></div><header id=header class='header site-header'><div class='container sep-after'><div class=header-info><p class='site-title title'>Praveen Lobo</p><p class='desc site-desc'></p></div></div></header><main id=content><article lang=en class=entry><header class='header entry-header'><div class='container sep-after'><div class=header-info><h1 class=title>Shell Scripts to Manipulate The File Name Extensions</h1><p class=desc>Basically, renaming!</p></div><div class=entry-meta><span class=posted-on><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
<span class=screen-reader-text>Posted on </span><time class=entry-date datetime=2017-10-02T20:00:00Z>Mon, Oct 2, 2017</time>
</span><span class=reading-time><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 15 15"/></svg>
2 mins read</span></div></div></header><div class='container entry-content'><p><small>The <a href=https://github.com/lobopraveen/gists/blob/master/unix/filename_extension_manipulation.md>latest version</a> of this should be available on <a href=https://github.com/lobopraveen/gists>GitHub repo</a>. Please report any issues there.</small></p><p>The following snippets show how to change the file name extensions on multiple files on UNIX machines. Other commands like <code>rename</code> and <code>mmv</code> might offer alternatives when they are available on the systems. The scripts below use <a href=https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html>shell&rsquo;s parameter expansion</a> to operate on multiple files.</p><ul><li><code>%</code> in below scripts match shortest from the end of the string.</li><li><code>%%</code> matches longest from the end</li><li><code>#</code> shortest from the beginning</li><li><code>##</code> longest from the beginning</li></ul><p><code>test</code> command controls if a rename should occur or not.</p><p>The following script ensures that all the files that match a specific pattern have &ldquo;.pgp&rdquo; extension. This will not touch a matching file which already has &ldquo;.pgp&rdquo; extension. Note that if a non &ldquo;.pgp&rdquo; extension already exists, it still appends &ldquo;.pgp&rdquo;.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ksh data-lang=ksh><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/ksh
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> filename in pattern*
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    test <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename%.pgp<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&amp;&amp;</span> mv <span style=color:#e6db74>&#34;</span>$filename<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>.pgp&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>This can be easily tweaked to change one extension to another. The below script changes extension to &ldquo;.gpg&rdquo; on all &ldquo;.pgp&rdquo; files that match a pattern.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ksh data-lang=ksh><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/ksh
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> filename in pattern*
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    test <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> !<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename%.pgp<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&amp;&amp;</span> mv <span style=color:#e6db74>&#34;</span>$filename<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename%.pgp<span style=color:#e6db74>}</span><span style=color:#e6db74>.gpg&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>The above two scripts can be combined when the goal is to change the extension to &ldquo;.gpg&rdquo; on all &ldquo;.pgp&rdquo; files that match a pattern along with adding &ldquo;.gpg&rdquo; extension on extensionless files.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ksh data-lang=ksh><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/ksh
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>for</span> filename in pattern*
</span></span><span style=display:flex><span><span style=color:#66d9ef>do</span>    
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>&#34;Changing .pgp extension, if any, to .gpg : </span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  modifiedfilename<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>  
</span></span><span style=display:flex><span>  test <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> !<span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename%.pgp<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&amp;&amp;</span> mv <span style=color:#e6db74>&#34;</span>$filename<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename%.pgp<span style=color:#e6db74>}</span><span style=color:#e6db74>.gpg&#34;</span>  <span style=color:#f92672>&amp;&amp;</span> modifiedfilename<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>filename%.pgp<span style=color:#e6db74>}</span><span style=color:#e6db74>.gpg&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>&#34;Append .gpg extension if not present already: </span><span style=color:#e6db74>${</span>modifiedfilename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  test <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>modifiedfilename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>modifiedfilename%.gpg<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#f92672>&amp;&amp;</span> mv <span style=color:#e6db74>&#34;</span>$modifiedfilename<span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>modifiedfilename<span style=color:#e6db74>}</span><span style=color:#e6db74>.gpg&#34;</span> <span style=color:#f92672>&amp;&amp;</span> modifiedfilename<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>modifiedfilename<span style=color:#e6db74>}</span><span style=color:#e6db74>.gpg&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  echo <span style=color:#e6db74>&#34;Final name: </span><span style=color:#e6db74>${</span>modifiedfilename<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p><small><em>All posts with <a href=/tags/backdated-post/>backdated post</a> tag are published long after they were written.</em></small></p></div><footer class=entry-footer><div class='container sep-before'><div class=categories><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5A2 2 0 014 3H9l2 3h9a2 2 0 012 2z"/></svg>
<span class=screen-reader-text>Categories: </span><a class=category href=/categories/1/>1</a></div><div class=tags><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2H12l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7" y2="7"/></svg>
<span class=screen-reader-text>Tags: </span><a class=tag href=/tags/script/>Script</a>, <a class=tag href=/tags/unix/>Unix</a>, <a class=tag href=/tags/backdated-post/>Backdated Post</a></div></div></footer></article><nav class=entry-nav><div class=container><div class='prev-entry sep-before'><a href=/blog/sql-error-converting-the-data-type/><span aria-hidden=true><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="20" y1="12" x2="4" y2="12"/><polyline points="10 18 4 12 10 6"/></svg>
Previous</span>
<span class=screen-reader-text>Previous post: </span>SQL Error Converting The Data Type</a></div><div class='next-entry sep-before'><a href=/blog/from-wordpress-to-a-static-site-generator/><span class=screen-reader-text>Next post: </span>From WordPress to A Static Site Generator<span aria-hidden=true>Next <svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><line x1="4" y1="12" x2="20" y2="12"/><polyline points="14 6 20 12 14 18"/></svg></span></a></div></div></nav><section id=comments class=comments><div class='container sep-before'><div class=comments-area><div id=submission-success class=comment-submission-feedback><h4>Thank You!</h4><span>Your comment has been submitted. It will appear on this page shortly!</span>
<a href=#comments class=button>OK</a></div><div id=submission-failure class=comment-submission-feedback><h4>Yikes, Sorry!</h4><span>Error occured. Couldn't submit your comment. Please try again. Thank You!</span>
<a href=#comments class=button>OK</a></div><div id=respond class=comment-respond><h4 class=comment-reply-title>Leave a comment<small>
<a rel=nofollow id=cancel-comment-reply-link href=#respond class=button style=display:none aria-label='Cancel comment'>Cancel</a></small></h4><form action=https://api.staticman.net/v2/entry/lobopraveen/praveenlobo.com/master/comments method=post id=comment-form class=comment-form><input type=hidden name=options[postId] value=889285ca1befe19e34342aa41f4a36b8>
<input type=hidden name=options[redirect] value=https://praveenlobo.com/blog/shell-scripts-to-manipulate-the-file-name-extensions/#submission-success>
<input type=hidden name=options[redirectError] value=https://praveenlobo.com/blog/shell-scripts-to-manipulate-the-file-name-extensions/#submission-failure>
<input type=address name=fields[honeypot] style=display:none>
<input type=hidden name=fields[permalink] value=/blog/shell-scripts-to-manipulate-the-file-name-extensions/>
<input type=hidden name=fields[parent_id]><input type=hidden name=options[reCaptcha][siteKey] value=6LeSCGoUAAAAADS2jeaiTgzwi_hIQQ2uVumPxpsp>
<input type=hidden name=options[reCaptcha][secret] value='Wb4JOmR/cOt0fkaJ9gKxRarj8ADX1rSsI/jSVhpkNlINwcPCBSSfNKcZrDvQs8sSrQAUPWDILqHpYubB2TFR1raeVjrHuKvwChypXYOQzgN5lIEiL/8dN0UkG9kAc5qbheLJldGnaEiZiDrBTZmCM0kopP+G/MtNjrVXfKvigZo='><div><label for=comment>Comment*</label>
<textarea id=comment name=fields[content] required rows=3></textarea></div><div><label for=name>Name*</label>
<input id=name name=fields[author] type=text required></div><div><label for=email>Email*</label>
<input id=email name=fields[email] type=email required></div><div><label for=url>Website</label>
<input id=url name=fields[site] type=url></div><div class=g-recaptcha data-sitekey=6LeSCGoUAAAAADS2jeaiTgzwi_hIQQ2uVumPxpsp data-callback=enableSubmitComment></div><script type=text/javascript>function enableSubmitComment(){document.getElementById("submitComment").disabled=!1}</script><script async src=https://www.google.com/recaptcha/api.js></script><div><button type=submit id=submitComment disabled>Comment!</button></div></form></div></div></div></section></main><footer id=footer class=footer><div class='container sep-before'><section class='widget widget-social_menu sep-after'><nav aria-label='Social Menu'><ul><li><a href=mailto:gmail@praveenlobo.com target=_blank rel='noopener me'><span class=screen-reader-text>Contact via Email</span><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M4 4h16c1.1.0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1.0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></a></li><li><a href=https://linkedin.com/in/lobopraveen target=_blank rel='noopener me'><span class=screen-reader-text>Open Linkedin account in new tab</span><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></li><li><a href=https://github.com/lobopraveen target=_blank rel='noopener me'><span class=screen-reader-text>Open Github account in new tab</span><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li><a href=https://gitlab.com/lobopraveen target=_blank rel='noopener me'><span class=screen-reader-text>Open Gitlab account in new tab</span><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M22.65 14.39 12 22.13 1.35 14.39a.84.84.0 01-.3-.94l1.22-3.78 2.44-7.51A.42.42.0 014.82 2a.43.43.0 01.58.0.42.42.0 01.11.18l2.44 7.49h8.1l2.44-7.51A.42.42.0 0118.6 2a.43.43.0 01.58.0.42.42.0 01.11.18l2.44 7.51L23 13.45a.84.84.0 01-.35.94z"/></svg></a></li><li><a href=%3cnil%3e319542 target=_blank rel='noopener me'><span class=screen-reader-text>Open Stackoverflow account in new tab</span><svg class="icon" viewbox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" aria-hidden="true"><path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.13v6.404h15.012zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852 10.48 2.189.451-2.07-10.478-2.187-.453 2.068zm1.359-5.056 9.705 4.53.903-1.95-9.706-4.53-.902 1.936v.014zm2.715-4.785 8.217 6.855 1.359-1.62-8.216-6.853-1.35 1.617-.01.001zM15.751.0l-1.746 1.294 6.405 8.604 1.746-1.294L15.749.0h.002z"/></svg></a></li></ul></nav></section><div class=copyright><p>&copy; 2018-2025 Praveen Lobo</p></div></div></footer></div></div><script>window.__assets_js_src="/assets/js/"</script><script src=/assets/js/main.56dcff95.js></script><script src=/js/custom.js></script></body></html>